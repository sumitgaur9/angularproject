<form [formGroup]="reqPatientMedicinesHomeDeliveryForm" (ngSubmit)="Request_PatientMedicinesHomeDelivery()">
  <ad-modal [title]="'OTP'" [modalId]="'showRequestPatMedHomeDeliveryModal'">
    <ad-modal-body>
      <div class="modal-header" style="height:47px; background: linear-gradient(to right, #39b49a 0%, #1d86df 100%);">
        <button type="button" class="close" (click)="CloseModal()"><span aria-hidden="true" class="closebtnspan">&times;</span></button>          
        <p class="cc popupheaderheading"><i class="fa fa-medkit"></i><span style="margin-left:5px"> 
            &nbsp;<span style="color:white">Req Medicine Home Delivery</span></span>
        </p>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="card-body">

            <div class="form-group">
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text"><i class="fa fa-user text-info"></i></div>
                </div>
                <input type="text" class="form-control" id="patientName" name="patientName" placeholder="Patient Name"
                  formControlName="patientName">
              </div>
            </div>



            <div class="form-group">
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text"><i class="fa fa-user text-info"></i></div>
                </div>
                <input type="text" class="form-control" id="patientContactNo" name="patientContactNo"
                  placeholder="Patient ContactNo" formControlName="patientContactNo">
              </div>
            </div>

            <div class="form-group">
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text"><i class="fa fa-user text-info"></i></div>
                </div>
                <input type="text" class="form-control" id="patientAddress" name="patientAddress"
                  placeholder="Patient Address" formControlName="patientAddress">
              </div>
            </div>



          </div>
        </div>
        <div class="col-md-6">

          <div class="card-body">

            <div class="form-group">
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text"><i class="fa fa-user text-info"></i></div>
                </div>
                <input type="text" class="form-control" id="patientPIN" name="patientPIN" placeholder="Patient PIN"
                  formControlName="patientPIN">
              </div>
            </div>


            <div class="form-group">
              <label for="exampleFormControlSelect1">Pharmacist</label>
              <select class="form-control" formControlName="pharmacistName" (change)="pharmacistChangeEvent($event)">
                <option value=""></option>
                <option *ngFor="let opt of pharmacistListDataArray" [value]="opt.name">{{opt.name}}</option>
              </select>
            </div>















          </div>
        </div>
      </div>

      <div style=" background: #f6f9f8;border: 3px solid rgb(57 180 155 / 32%);padding: 7px;">
      <div style="width: 100%;float: left;">
        <div style="width: 30%;float: left;">
          <div class="form-group">
            <div class="input-group mb-2">
              <div class="input-group-prepend">
                <div class="input-group-text"><i class="fa fa-calendar text-info"></i></div>
              </div>
              <input class="form-control" (onChange)="datechange()" type="text" [dpDayPicker]="dayPickerConfig"
                [theme]="'dp-material'" formControlName="scheduleDate" [mode]="'day'" placeholder="schedule Date" />
            </div>
          </div>
        </div>
        <div style="width: 30%;float: left;margin-left:2%">
          <div class="form-group">
            <div class="input-group mb-2">
              <div class="input-group-prepend">
                <div class="input-group-text"><i class="fa fa-calendar text-info"></i></div>
              </div>
              <input class="form-control" type="text" [dpDayPicker]="dayPickerTimeConfig" [theme]="'dp-material'"
                formControlName="scheduleTime" [mode]="'time'" placeholder="scheduleTime" />
            </div>
          </div>
        </div>
        <div style="width: 30%;float: left;margin-left:2%">
          <angular2-multiselect [data]="medicineListDataArray" [(ngModel)]="selectedItems" [settings]="settings"
            (onSelect)="onItemSelect($event)" (onDeSelect)="OnItemDeSelect($event)" (onSelectAll)="onSelectAll($event)"
            (onDeSelectAll)="onDeSelectAll($event)" formControlName="skills" style="width: 89%;">
          </angular2-multiselect>
        </div>
      
      </div>

      <div style="width: 100%;float: left;">
        <div style="width: 80%;float: left;">
          <div class="form-group">
            <div class="input-group mb-2">
              <div class="input-group-prepend">
                <div class="input-group-text"><i class="fa fa-comment text-info"></i></div>
              </div>
              <input class="form-control" type="text" 
                 formControlName="processInfo" placeholder="Instruction" />
            </div>
          </div>
        </div>
        <div style="width: 10%;float: left;margin-left:2%">
          <div class="buttonSection">
            <div class="text-center">
              <input type="button" (click)="SendDataInTableValue()" style="width: 50px;font-size:15px;padding: 0;" value="Ok" class="btn btn-info btn-block rounded-0 py-2">
            </div>
          </div>
        </div>
      </div>
      <table class="table table-hover my-0">
        <thead style="background-color: #39b49b;">
          <tr>
            <th>Delete</th>
            <th>Date</th>
            <th class="d-none d-xl-table-cell">Time</th>
            <th class="d-none d-xl-table-cell">MedicineName</th>
            <th class="d-none d-xl-table-cell">Instruction</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of sheduleMedicineTableData;let i=index">
            <td   class="d-none d-xl-table-cell" style="vertical-align: middle;"><i class="fa fa-trash" aria-hidden="true" style="cursor: pointer;font-size: 18px;color:red;margin-left: 15%;color:red"
              (click)="deleteMedicineDetailRow(i)"></i></td>
            <td>{{data.medicneScheduleDate}}</td>
            <td class="d-none d-xl-table-cell">{{data.medicineScheduleTime}}</td>
            <td class="d-none d-md-table-cell">
              {{data.medicineScheduleName}}
            </td>
            <td class="d-none d-md-table-cell">
              {{data.processInfo}}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-sm-12 col-sm-12 col-lg-12" *ngIf="submitted">
      <em style="color: red;font-size: 12px;">{{errorMessage}}</em>
    </div>

    </ad-modal-body>
    <ad-modal-footer>
      <div class="buttonSection">
        <div class="text-center">
          <input type="submit" style="width: 200px;" value="✔️ &nbsp;&nbsp;Save" class="btn btn-info btn-block rounded-0 py-2">
        </div>
      </div>
    </ad-modal-footer>
  </ad-modal>
</form>