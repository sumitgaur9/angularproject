<form [formGroup]="pharmaVisitCompleteIntimationForm" (ngSubmit)="Save_PharmaVisitCompleteIntimation()">
  <ad-modal [title]="'OTP'" [modalId]="'showPharmacistVisitCompleteIntimationModal'">
    <ad-modal-body>
      <div class="modal-header" style="height:47px; background: linear-gradient(to right, #39b49a 0%, #1d86df 100%);">
        <button type="button" class="close" (click)="CloseModal(false)"><span aria-hidden="true"
            class="closebtnspan">&times;</span></button>
        <p class="cc popupheaderheading"><i class="fa fa-medkit"></i><span style="margin-left:5px"> Pharmacist
            &nbsp;<span style="color:white">Visit Intimation</span></span>
        </p>
      </div>
      <div class="row">
        <div class="col-md-4">
          <div class="card-body">
            <div class="form-group">
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text"><i class="fa fa-user text-info"></i></div>
                </div>
                <input type="text" class="form-control" id="patientName" name="patientName" placeholder="Patient Name"
                  formControlName="patientName">
              </div>
            </div>      
          </div>
        </div>    
        <div class="col-md-4">
          <div class="card-body">            
            <div class="form-group">
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text"><i class="fa fa-user text-info"></i></div>
                </div>
                <input type="text" class="form-control" id="doctorName" name="doctorName" placeholder="Doctor Name"
                  formControlName="doctorName">
              </div>
            </div>
          </div>
        </div>  
        <div class="col-md-4">
          <div class="card-body">      
            <div class="form-group">
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text"><i class="fa fa-user text-info"></i></div>
                </div>
                <input type="text" class="form-control" id="pharmacyPersonContactNo" name="pharmacyPersonContactNo"
                  placeholder="Pharmacy Person ContactNo" formControlName="pharmacyPersonContactNo">
              </div>
            </div>      
          </div>
        </div>   
        <div class="col-md-1">          
        </div>
        <div class="col-md-11">
          <div class="card-body">
            <div class="gaadiex-list">
              <div class="gaadiex-list-item border-b-1"
                style="font-size: 13px; margin-bottom:5px;border: 3px solid rgba(17, 17, 17, 0.25);height: 45px;">
            
                <div class="row" style="width: 100%;float:left;">
                  <div style="width: 15%;float:left;padding-top: 13px;">
                    Image
                  </div>
                  <div style="width: 1%;float:left;">
                  </div>
                  <div style="width: 32%;float:left;padding-top: 15px;">
                    <div>Medicine Name</div>
                  </div>
                  <div style="width: 15%;float:left;font-weight: 600;padding-top: 15px;">
                    <div>Rate (in <i class="fa fa-inr" aria-hidden="true"></i>)</div>
                  </div>
                  <div style="width: 3%;float:left;padding-top: 15px;">
                    <h6></h6>
                  </div>
                  <div style="width: 26%;float:left;padding-top: 15px;">
                    <h6>Qty</h6>
                  </div>
                  <div style="width: 8%;float:left;font-weight: 600;padding-top: 15px;">
                    <div>Price</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card" *ngIf="medicineToBeDeliver.length>0" style="overflow: auto;height: 110px;">
              
              <div class="gaadiex-list" *ngFor="let data of medicineToBeDeliver">
                <div class="gaadiex-list-item border-b-1"
                  style="margin-bottom:5px;height:54px; border: 2px solid rgba(57, 180, 155, 0.21);">
      
                  <div class="row" style="width: 100%;float:left;">
                    <div style="width: 15%;float:left;">
                      <img class="gaadiex-list-item-img"
                        *ngIf="!(data.newimage && data.newimage.data && data.newimage.data.data)" src="{{getDefaultImage}}"
                        alt="Photo of sunset">
                      <img class="gaadiex-list-item-img"
                        *ngIf="data.newimage && data.newimage.data && data.newimage.data.data"
                        src="{{arrayBufferToBase64(data.newimage.data.data)}}" alt="Photo of sunset">
                    </div>
                    <div style="width: 1%;float:left;">
                    </div>
                    <div style="width: 35%;float:left;padding-top: 15px;">
                      <h6>{{data.medicineName}}</h6>      
                    </div>
                    <div style="width: 11%;float:left;padding-top: 15px;">
                      <div><i class="fa fa-inr" aria-hidden="true"></i> {{(data.price/data.medicineOccurance).toLocaleString('en-IN')}} </div>      
                    </div>
                    <div style="width: 7%;float:left;padding-top: 15px;">
                      <h6>X</h6>      
                    </div>
                    <div style="width: 23%;float:left;padding-top: 15px;">
                      <h6>{{data.medicineOccurance}}</h6>      
                    </div>
                    <div style="width: 7%;float:left;font-weight: 600;padding-top: 15px;text-align: right;">
                      <div><i class="fa fa-inr" aria-hidden="true"></i> {{data.price.toLocaleString('en-IN')}} </div>      
                    </div>
                    
                    <!-- <div style="width: 20%;float:left;padding-top: 2%;">
                        
                          
                       
                            
                        </div> -->
                  </div>
                </div>
      
      
              </div>
      
            </div>
            <div style="width:100%;float:left;background-color: #36b0a145;" *ngIf="medicineToBeDeliver.length>0">
              <div style="width:86%;float:left;padding-left: 63%;">
                <h6>SubTotal:</h6>
              </div>
              <div style="width:10%;float:left;font-weight: 700;">
                <i class="fa fa-inr" aria-hidden="true"></i>
                &nbsp;{{priceTotal.toLocaleString('en-IN')}}.00
              </div>
            </div>
          </div>
        </div> 
      </div>
      
    </ad-modal-body>
    <ad-modal-footer>
      <div class="buttonSection">
        <div class="text-center">
          <input type="submit" style="width: 200px;" value="Save" class="btn btn-info btn-block rounded-0 py-2">
        </div>
      </div>
    </ad-modal-footer>
  </ad-modal>
</form>
