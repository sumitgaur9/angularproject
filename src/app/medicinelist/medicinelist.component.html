


<div class="container mt-2" style="position:absolute;top:17%;left:7%;">

    <div style="margin-bottom:1%;">
      <!-- <h4 class="card-title">Card 1</h4>
      <p class="card-text">Welcom to bootstrap card styles</p> -->
      <a class="btn btn-primary" (click)="openMedicineProfilePopup()" *ngIf="currentUser.user.role==11"><i class="fa fa-plus" style="color: white;font-size: 20px;padding-right: 5px;"></i> Medicine</a>
    </div>
    <div class="row">
      <table class="table table-hover my-0" style="text-align: center;">
        <thead style="background-color: #39b49b;">
          <tr>
            <th style="width: 5%;">S.No</th>
            <th style="width: 13%;">Image</th>
            <th style="width: 13%;">Medicine Name</th>
            <th style="width: 13%;" class="d-none d-xl-table-cell">Company</th>
            <th style="width: 13%;" class="d-none d-xl-table-cell">Price</th>
            <th *ngIf="currentUser.user.role==11" style="width: 5%;" class="d-none d-xl-table-cell">Edit</th>
            <th *ngIf="currentUser.user.role==11" style="width: 5%;" class="d-none d-xl-table-cell">Delete</th>
            <th class="d-none d-xl-table-cell">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of medicineListDataArray;let i = index;">
            <td>{{i+1}}.</td>
            <td>
              <img *ngIf="!(data.newimage && data.newimage.data && data.newimage.data.data)" src="{{getDefaultImage}}"
                alt="Photo of sunset">
              <img *ngIf="data.newimage && data.newimage.data && data.newimage.data.data"
                src="{{arrayBufferToBase64(data.newimage.data.data)}}" alt="Photo of sunset">
            </td>
            <td style="font-weight: 600;">{{data.medicineName}}</td>
            <td class="d-none d-xl-table-cell">{{data.companyName}}</td>
            <td class="d-none d-md-table-cell" style="font-weight: 600;">&#8377; {{data.price}}</td>
            <td *ngIf="currentUser.user.role==11" class="d-none d-xl-table-cell"><i class="fa fa-pencil" aria-hidden="true" style="cursor: pointer;"
              (click)="openMedicineProfilePopup(data._id)"></i></td>
            <td  *ngIf="currentUser.user.role==11" class="d-none d-xl-table-cell"><i class="fa fa-trash" aria-hidden="true" style="cursor: pointer;"
              (click)="openDeleteConfirmationPopup(data._id)" style="color:red"></i></td>
            <td class="d-none d-xl-table-cell">{{data.description.length > 180 ? data.description.substring(0,180)+'...' : data.description  }}</td>
            
          </tr>
        </tbody>
      </table>
    </div>

  </div>



  <div *ngIf="showMedicineprofileformpopup">
      <app-medicineprofile [showModal]="showMedicineprofileformpopup"  [getmedicineprofileid]="getmedicineprofileid" (ClosePopup)="closeMedicineProfilePopup($event)"> </app-medicineprofile>
    </div>

    <div *ngIf="showConfirmationPopup">
      <app-confirmation [showModal]="showConfirmationPopup" [showData]="showData" (ClosePopup)="closeConfirmationPopup($event)">
      </app-confirmation>
    </div>


